# Домашнее задание к занятию 1. «Типы и структура СУБД - `Rashevchenko Mikhail`

## Задача 1

Архитектор ПО решил проконсультироваться у вас, какой тип БД лучше выбрать для хранения определённых данных.

Он вам предоставил следующие типы сущностей, которые нужно будет хранить в БД:

- электронные чеки в json-виде,
- склады и автомобильные дороги для логистической компании,
- генеалогические деревья,
- кэш идентификаторов клиентов с ограниченным временем жизни для движка аутенфикации,
- отношения клиент-покупка для интернет-магазина.
Выберите подходящие типы СУБД для каждой сущности и объясните свой выбор.

<details><summary>Ответ:</summary>
  
   - электронные чеки в json-виде: Документоориентированная NoSQL БД, умеющая хранить и предоставлять быстрый доступ к данным (MongoDB).   
   - склады и автомобильные дороги для логистической компании:  Графовая (NoSQL) СУБД, адреса и склады представляют из себя узлы, а дороги, представляют ребра.   
   - генеалогические деревья: Иерархическая БД, структура предаставлена ветвями.   
   - кэш идентификаторов клиентов с ограниченным временем жизни для движка аутенфикации: Key-Value БД (Redis), позволяет хранить значения установленное количество времени.   
   - отношения клиент-покупка для интернет-магазина: Реляционная БД (PostgreSQL), записи о клиентах имеют связи с товарами и их свойствами.

</details>

## Задача 2

Вы создали распределённое высоконагруженное приложение и хотите классифицировать его согласно CAP-теореме. Какой классификации по CAP-теореме соответствует ваша система, если (каждый пункт — это отдельная реализация вашей системы и для каждого пункта нужно привести классификацию):

- данные записываются на все узлы с задержкой до часа (асинхронная запись);
- при сетевых сбоях система может разделиться на 2 раздельных кластера;
- система может не прислать корректный ответ или сбросить соединение.
Согласно PACELC-теореме как бы вы классифицировали эти реализации?  

<details><summary>Ответ:</summary> 
  
- данные записываются на все узлы с задержкой до часа (асинхронная запись): CAP: AP / Данные записываются на все узлы с задержкой до часа (асинхронная запись) / PACELC: PC/EC
- при сетевых сбоях система может разделиться на 2 раздельных кластера: CAP: AP / При сетевых сбоях, система может разделиться на 2 раздельных кластера / PACELC: PA/EL
- система может не прислать корректный ответ или сбросить соединение: CAP: PC / Система может не прислать корректный ответ или сбросить соединение / PACELC: PC/EC
  
</details>

## Задача 3

Могут ли в одной системе сочетаться принципы BASE и ACID? Почему?

<details><summary>Ответ:</summary> 

Нет. Это разные подходы. Принципы ACID и BASE противопоставляются друг другу. ACID — согласованность важнее производительности, BASE — производительность важнее согласованности.

</details>

## Задача 4

Вам дали задачу написать системное решение, основой которого бы послужили:

- фиксация некоторых значений с временем жизни,
- реакция на истечение таймаута.
Вы слышали о key-value-хранилище, которое имеет механизм Pub/Sub. Что это за система? Какие минусы выбора этой системы?

<details><summary>Ответ:</summary>  

СУБД Redis  
Минусы: не является реляционной БД, не поддерживает SQL; существует риск потери данных, так как они хранятся в RAM. Но есть механизм репликации на диск; хранилище ограничено объемом оперативной памяти.  

</details>
